%
% bxjacalcux.sty
%

%% package declaration
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{bxjacalcux}[2013/05/05 v0.2a]

%% preparations
\def\bxjcx@pkgname{bxjacalcux}
\def\bxjcx@error{\PackageError\bxjcx@pkgname}

%% prerequisite packages
\@tempswafalse
\@ifpackageloaded{calc}{\@tempswatrue}{}
\@ifpackageloaded{l3calc}{\@tempswatrue}{}
\if@tempswa\else
  \RequirePackage{calc}
\fi
\RequirePackage{bxtoolbox}
%
\RequirePackage{bxcalcux}
\RequirePackage{bxcalcize}
%
\ifbxinpTeX
\expandafter\endinput\fi\relax

%------------------- unit registration

\@tempswafalse
\newdimen\bxjcx@HQ \bxjcx@HQ=0.25mm
\newdimen\bxjcx@trueHQ \bxjcx@trueHQ=0.25truemm
\DeclareCalcUnit{Q}{\bxjcx@HQ}
\DeclareCalcUnit{H}{\bxjcx@HQ}
\DeclareCalcUnit{trueQ}{\bxjcx@trueHQ}
\DeclareCalcUnit{trueH}{\bxjcx@trueHQ}

\ifdef\jsDocClass{%
\DeclareCalcUnit{zw}{\jsZw}
\DeclareCalcUnit{zh}{\jsZw}
}{}
\@ifpackageloaded{luatexja-core}{%
\DeclareCalcUnit{zw}{\zw}
\DeclareCalcUnit{zh}{\zh}
}{}

%------------------- all done
\endinput
%% EOF
